# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Telegram

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ:

1. **–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram"** –≤ header —Å–∞–π—Ç–∞
2. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ** —Å –≤–∏–¥–∂–µ—Ç–æ–º Telegram Login
3. **–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** –ø–æ–¥–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Telegram
4. **–¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite
5. **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
6. **–ü—Ä–∏–≤—è–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤** –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º Telegram

---

## üöÄ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:
- –í–∏–¥–∏—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏" —Å –∏–∫–æ–Ω–∫–æ–π Telegram
- –ú–æ–∂–µ—Ç –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –∫–∞–∫ **–≥–æ—Å—Ç—å** (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "–ü—Ä–æ—Ñ–∏–ª—å" ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ –≤—Ö–æ–¥–∞

### 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è:
- –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏"
- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–∏–¥–∂–µ—Ç–æ–º Telegram
- –ù–∞–∂–∏–º–∞–µ—Ç –Ω–∞ –∫–Ω–æ–ø–∫—É Telegram Login Widget
- Telegram –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—Ö–æ–¥
- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É

### 3. –ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
- –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏" –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ **"üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"**
- –í—Å–µ –Ω–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã **–ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç—Å—è –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é**
- –í —Ä–∞–∑–¥–µ–ª–µ "–ü—Ä–æ—Ñ–∏–ª—å" –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è **–∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤**
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–º—è ‚Üí **–≤—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞**

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):

–í–∞—à –±–æ—Ç: **@MerosSayramBot**

### –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ localhost:
‚úÖ Telegram —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ `localhost` –±–µ–∑ HTTPS

### –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:
‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç—Å—è HTTPS!**

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. **–î–æ–º–µ–Ω + SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç** (Let's Encrypt - –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
2. **ngrok** –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
   ```bash
   ngrok http 3000
   ```
   –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –≤–∏–¥–∂–µ—Ç

---

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

### –¢–∞–±–ª–∏—Ü–∞ `users`:
```sql
CREATE TABLE users (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  telegram_id INTEGER UNIQUE NOT NULL,
  first_name TEXT,
  last_name TEXT,
  username TEXT,
  photo_url TEXT,
  created_at TEXT DEFAULT CURRENT_TIMESTAMP
)
```

### –¢–∞–±–ª–∏—Ü–∞ `orders` (–æ–±–Ω–æ–≤–ª–µ–Ω–∞):
```sql
CREATE TABLE orders (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  name TEXT,
  phone TEXT,
  address TEXT,
  items TEXT,
  total INTEGER,
  status TEXT DEFAULT 'new',
  user_id INTEGER,  -- –ù–æ–≤–æ–µ –ø–æ–ª–µ!
  created_at TEXT DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id)
)
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ Telegram:
```javascript
function checkTelegramAuthorization(data) {
  const secret = crypto.createHash('sha256')
    .update(process.env.BOT_TOKEN)
    .digest();
  
  const { hash, ...userData } = data;
  
  const dataCheckString = Object.keys(userData)
    .sort()
    .map(key => `${key}=${userData[key]}`)
    .join('\n');
  
  const hmac = crypto.createHmac('sha256', secret)
    .update(dataCheckString)
    .digest('hex');
  
  return hmac === hash;
}
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—à–ª–∏ –æ—Ç –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ Telegram, –∞ –Ω–µ –ø–æ–¥–¥–µ–ª–∞–Ω—ã.

---

## üì± API Endpoints:

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```
POST /api/auth/telegram
Body: { id, first_name, last_name, username, photo_url, hash, ... }
Response: { success: true, user: {...}, dbUserId: 123 }
```

### 2. –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
GET /api/user/orders/:telegram_id
Response: [{ id, name, phone, items, total, status, created_at }, ...]
```

---

## üé® UI/UX:

### –°–æ—Å—Ç–æ—è–Ω–∏—è:
1. **–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:** –ö–Ω–æ–ø–∫–∞ "–í–æ–π—Ç–∏"
2. **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:** "üë§ –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
3. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ:** –í–∏–¥–∂–µ—Ç Telegram Login
4. **–ü—Ä–æ—Ñ–∏–ª—å:** –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
- ‚úÖ "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, –ò–º—è! üëã" - –ø—Ä–∏ –≤—Ö–æ–¥–µ
- ‚úÖ "–í—ã –≤—ã—à–ª–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞" - –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ
- ‚úÖ "–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É ‚úì" - –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç:
```
http://localhost:3000
```

### 2. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"
### 3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Telegram
### 4. –û—Ñ–æ—Ä–º–∏—Ç–µ –∑–∞–∫–∞–∑
### 5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ü—Ä–æ—Ñ–∏–ª—å" ‚Üí —É–≤–∏–¥–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é

---

## üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. `.env` —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º `BOT_TOKEN`
2. –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ—Ç –æ—à–∏–±–æ–∫ (F12)
4. –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `npm start`

### –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞:
–°–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

## üì¶ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –≤ –±—É–¥—É—â–µ–º:

1. **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram** –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞
2. **–ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –¥–æ—Å—Ç–∞–≤–∫–∏**
4. **–ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞** (—Å–∫–∏–¥–∫–∏ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)
5. **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞** –≤ 1 –∫–ª–∏–∫
6. **–û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏** —Ç–æ–≤–∞—Ä–æ–≤

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ì–æ—Å—Ç–µ–≤–æ–π –∑–∞–∫–∞–∑ (–±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚úÖ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ü—Ä–∏–≤—è–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –≤–∞—à–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω–µ!
