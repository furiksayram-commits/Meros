<!doctype html>
<html lang="ru">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin - Заказы</title>
<style>body{font-family:Arial,Helvetica,sans-serif;padding:18px}table{width:100%;border-collapse:collapse}th,td{border:1px solid #ddd;padding:8px;text-align:left}th{background:#f4f4f4}</style>
</head>
<body>
<h2>Заказы</h2>
<p>Эта страница показывает все заказы (демо).</p>
<table id="tbl"><thead><tr><th>ID</th><th>Дата</th><th>Имя</th><th>Телефон</th><th>Адрес</th><th>Итог</th><th>Товары (JSON)</th></tr></thead><tbody></tbody></table>
<script>
async function load(){
  const res = await fetch('/admin-data');
  const rows = await res.json();
  const tbody = document.querySelector('#tbl tbody');
  tbody.innerHTML = '';
  rows.forEach(r=>{
    const tr = document.createElement('tr');
    tr.innerHTML = `<td>${r.id}</td><td>${r.created_at}</td><td>${r.name}</td><td>${r.phone}</td><td>${r.address}</td><td>${r.total}</td><td><pre>${r.items}</pre></td>`;
    tbody.appendChild(tr);
  });
}
load();
</script>
</body>
</html>
